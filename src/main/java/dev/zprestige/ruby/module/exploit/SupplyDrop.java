package dev.zprestige.ruby.module.exploit;

import dev.zprestige.ruby.module.Module;
import dev.zprestige.ruby.setting.impl.IntegerSetting;
import dev.zprestige.ruby.util.BlockUtil;
import dev.zprestige.ruby.util.InventoryUtil;
import net.minecraft.init.Blocks;
import net.minecraft.item.Item;
import net.minecraft.util.EnumHand;
import net.minecraft.util.math.BlockPos;

public class SupplyDrop extends Module {
    public BlockPos blockPos;
    public final Slider force = Menu.Switch("Force", 15, 1, 100);
    @Override
    public void onEnable(){
        blockPos = BlockUtil.getPlayerPos();
    }
    @Override
    public void onTick(){
        int slot = InventoryUtil.getItemFromHotbar(Item.getItemFromBlock(Blocks.OBSIDIAN));
        if (slot ==-1){
            disableModule("No obsidian found in hotbar, disabling SupplyDrop.");
            return;
        }
        mc.player.setPosition(mc.player.posX, mc.player.posY + force.getValue(), mc.player.posZ);
        BlockUtil.placeBlockWithSwitch(blockPos, EnumHand.MAIN_HAND, false, true, slot);
        disableModule();
    }
}
